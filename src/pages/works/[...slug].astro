---
import type { MarkdownInstance } from 'astro'
import PostLayout from '@/layouts/PostLayout.astro'

export const getStaticPaths = async () => {
  const pages: MarkdownInstance<Theme.Frontmatter>[] = await Astro.glob<Theme.Frontmatter>('../../content/works/*.md')
  return pages.map((page) => {
    return {
      params: {
        slug: page.frontmatter.slug,
      },
      props: {
        page,
      },
    }
  })
}

const { Content, frontmatter } = Astro.props.page

const seo: Theme.SEO = {
  title: frontmatter.title,
  description: frontmatter.description,
  permalink: ['works', frontmatter.slug],
  breadcrumb: { works: '制作事例', [frontmatter.slug]: frontmatter.title },
}
---

<PostLayout {seo} {frontmatter}>
  <Content />
</PostLayout>
