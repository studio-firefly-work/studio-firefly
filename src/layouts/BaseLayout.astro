---
import { ViewTransitions } from 'astro:transitions'
import { GoogleAnalytics } from 'astro-google-analytics'
import '@fontsource-variable/noto-sans'
import '@fontsource-variable/noto-sans-jp'
import '@/styles/global.scss'
import SEOMetaTags from '@/components/molecules/SEOMetaTags.astro'

interface Props {
  seo: Theme.SEO
}
const { seo } = Astro.props
---

<!doctype html>
<html lang="ja-JP">
  <head prefix="og: https://ogp.me/ns#">
    <SEOMetaTags {seo} />
    <GoogleAnalytics id={import.meta.env.PUBLIC_GA4_ID} />
    <ViewTransitions />
  </head>
  <body
    class="manipulation grid min-h-dvh grid-cols-1 grid-rows-[auto,1fr,auto] break-words bg-base-200 font-body text-base tracking-normal antialiased"
  >
    <slot />
    <script>
      document.addEventListener('astro:page-load', () => {
        const labelButtons = document.querySelectorAll('label[role="button"]') as NodeListOf<HTMLLabelElement>
        labelButtons.forEach((button: HTMLLabelElement) => {
          button.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' || event.key === ' ') {
              event.preventDefault()
              button.click()
            }
          })
        })
      })
    </script>
  </body>
</html>
